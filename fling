-- LocalScript (place in StarterPlayerScripts)

local Players = game:GetService("Players")
local player = Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()
local rootPart = character:WaitForChild("HumanoidRootPart")
local torso = character:WaitForChild("Torso")




-- Function to fling other players
local function flingPlayer(otherPart)
	local otherCharacter = otherPart.Parent
	local humanoid = otherCharacter:FindFirstChildOfClass("Humanoid")
	local otherRootPart = otherCharacter:FindFirstChild("HumanoidRootPart")

	-- Check if the touched part belongs to another player's character
	if humanoid and otherRootPart and otherCharacter ~= character then
		-- Create a BodyVelocity to fling the other player
		local root = otherRootPart:FindFirstChild("RootAttachment")
		local vf2 = Instance.new("VectorForce")
		vf2.ApplyAtCenterOfMass =true
		vf2.Attachment0 =root
		--vf. = Vector3.new(math.huge, math.huge, math.huge)
		vf2.Force  = Vector3.new(0, 999999999999999, 10)
		vf2.Parent = otherRootPart
		
		--bodyVelocity.Velocity = (otherRootPart.Position - rootPart.Position).Unit * 99999999999 + Vector3.new(0, 50, 0) -- Fling direction and upward boost
		--bodyVelocity.Parent = otherRootPart

	end
end

local function noclip(otherPart)
			otherPart.CanCollide = false
		 	
end

-- Connect the touch event
rootPart.Touched:Connect(flingPlayer)

torso.Touched:Connect(noclip)

-- Handle character respawn
player.CharacterAdded:Connect(function(newCharacter)
	character = newCharacter
	rootPart = newCharacter:WaitForChild("HumanoidRootPart")
	rootPart.Touched:Connect(flingPlayer)
end)
